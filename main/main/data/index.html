<!DOCTYPE html>
<html>
<head>
  <title>ESP32 Room-Data Collector</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <link rel="stylesheet" type="text/css" href="/style.css" media="screen"/>
  <script>
	
	
	function loadHome() {
		var contentRq 	= new XMLHttpRequest();
		var fwmRq		= new XMLHttpRequest();	
		var hostRq		= new XMLHttpRequest();
		var prodCodeRq	= new XMLHttpRequest();
		var roomIdRq	= new XMLHttpRequest();
		
		
		contentRq.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("content").innerHTML = this.responseText;
			}
		};
		fwmRq.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("fmw").innerHTML = this.responseText;
			}
		};
		hostRq.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("host").innerHTML = this.responseText;
			}
		};
		prodCodeRq.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("productCode").innerHTML = this.responseText;
			}
		};
		roomIdRq.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("room").innerHTML = this.responseText;
			}
		};
		
		contentRq.open	("GET", "/home", 			true);
		fwmRq.open		("GET", "/fmw", 			true);
		hostRq.open		("GET", "/host", 			true);
		prodCodeRq.open	("GET", "/productCode", 	true);
		roomIdRq.open	("GET", "/roomId", 			true);
		
		contentRq.send();
		fwmRq.send();
		hostRq.send();
		prodCodeRq.send();
		roomIdRq.send();
	};
	
	function loadRoom() {
		var myRequest = new XMLHttpRequest();
		
		myRequest.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("content").innerHTML = this.responseText;
			}
		};
		myRequest.open("GET", "/roomSettings", true);
		myRequest.send();
	};
	
	function loadWifi() {
		var myRequest = new XMLHttpRequest();
		
		myRequest.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("content").innerHTML = this.responseText;
			}
		};
		myRequest.open("GET", "/wifiSettings", true);
		myRequest.send();
	};
		
	function loadLora() {
		var myRequest = new XMLHttpRequest();
		
		myRequest.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("content").innerHTML = this.responseText;
			}
		};
		myRequest.open("GET", "/loraSettings", true);
		myRequest.send();
	};
	
	function loadBT() {
		var myRequest = new XMLHttpRequest();
		
		myRequest.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("content").innerHTML = this.responseText;
			}
		};
		myRequest.open("GET", "/btSettings", true);
		myRequest.send();
	};
	
	function loadI2C() {
		var myRequest = new XMLHttpRequest();
		
		myRequest.onreadystatechange = function() {
			if(this.readyState == 4 && this.status == 200) {
				document.getElementById("content").innerHTML = this.responseText;
			}
		};
		myRequest.open("GET", "/i2cSettings", true);
		myRequest.send();
	};
	
	function loadContent(page) {
	
		if(page === 0) { loadHome(); }		
		if(page === 1) { loadRoom(); }		// room settings
		if(page === 2) { loadWifi(); }		// wifiSettings
		if(page === 3) { loadLora(); }		// lora Settings
		if(page === 4) { loadBT();   }		// bluetooth setings
		if(page === 5) { loadI2C();  }		// i2c setings
		myRequest.send();
	};
	
	loadContent(0);
	
  </script>
</head>
<body>
  <h1>ESP32 Room-Data Collector</h1>
  <table class="menu">
	<tr>
		<td class="menu-td"><a class="menu_a" id="home"        	onClick="loadContent(0);">Home</a></td>
		<td class="menu-td"><a class="menu_a" id="roomSettings"	onClick="loadContent(1);">Room Settings</a></td>
		<td class="menu-td"><a class="menu_a" id="wifiSettings"	onClick="loadContent(2);">WiFi Settings</a></td>
		<td class="menu-td"><a class="menu_a" id="loraSettings"	onClick="loadContent(3);">LoRa Settings</a></td>
		<td class="menu-td"><a class="menu_a" id="btSettings"  	onClick="loadContent(4);">Bluetooth Settings</a></td>
		<td class="menu-td"><a class="menu_a" id="i2csettings"  onClick="loadContent(5);">I2C Settings</a></td>
	</tr>
  </table>
  <div id="content">
  </div>
</body>
</html>